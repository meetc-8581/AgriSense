(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{62:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(28),s=a.n(n),i=a(3),l=a(4),o=a.n(l),j=a(7),d=a(2),b=a(5),u=a.n(b),h=a(0),O=Object(c.createContext)();function m(e){var t=Object(c.useState)(void 0),a=Object(d.a)(t,2),r=a[0],n=a[1];function s(){return i.apply(this,arguments)}function i(){return(i=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/login/loggedin");case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){s()}),[]),Object(h.jsx)(O.Provider,{value:{loggedIn:r,getLoggedIn:s},children:e.children})}var x=O,p=a(8);var f=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),s=Object(d.a)(n,2),l=s[0],b=s[1],O=Object(c.useContext)(x).getLoggedIn,m=Object(i.g)();function f(){return(f=Object(j.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c={email:a,password:l},e.next=5,u.a.post("login",c,{withCredentials:!0});case 5:return e.next=7,O();case 7:m.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"page-title",style:{maxWidth:"1000px"},children:[Object(h.jsx)("h1",{children:"Welcome back!"}),Object(h.jsx)("h3",{children:"Log in to your account."})]}),Object(h.jsx)("div",{className:"panel_body",children:Object(h.jsxs)("form",{className:"form-control",onSubmit:function(e){return f.apply(this,arguments)},children:[Object(h.jsxs)("div",{className:"form-feild",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",placeholder:"Email",onChange:function(e){return r(e.target.value)},value:a})]}),Object(h.jsxs)("div",{className:"form-feild",children:[Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){return b(e.target.value)},value:l})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn--m",children:"Log in"})]})}),Object(h.jsxs)("div",{className:"page-title",children:["Forgot password?",Object(h.jsx)(p.a,{style:{textDecoration:"underline",color:"blue"},to:"/login",children:"Reset"}),Object(h.jsx)("br",{}),"Don't have an account?",Object(h.jsx)(p.a,{style:{textDecoration:"underline",color:"blue"},to:"/register",children:"Sign up"})]})]})};a(62);var v=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),s=Object(d.a)(n,2),l=s[0],b=s[1],O=Object(c.useState)(""),m=Object(d.a)(O,2),f=m[0],v=m[1],g=Object(c.useState)(""),y=Object(d.a)(g,2),N=y[0],w=y[1],S=Object(c.useContext)(x).getLoggedIn,C=Object(i.g)();function k(){return(k=Object(j.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c={name:a,email:l,password:f},e.next=5,u.a.post("/users",c);case 5:return e.next=7,S();case 7:C.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"page-title",children:[Object(h.jsx)("h1",{children:"Join Agrisense"}),Object(h.jsx)("h3",{children:"A world of better agriculture."})]}),Object(h.jsx)("div",{className:"panel_body",children:Object(h.jsxs)("form",{className:"form-control",onSubmit:function(e){return k.apply(this,arguments)},children:[Object(h.jsxs)("div",{className:"form-feild",children:[Object(h.jsx)("label",{children:"FULL NAME"}),Object(h.jsx)("input",{type:"name",placeholder:"Name",onChange:function(e){return r(e.target.value)},value:a})]}),Object(h.jsxs)("div",{className:"form-feild",children:[Object(h.jsx)("label",{children:"EMAIL"}),Object(h.jsx)("input",{type:"email",placeholder:"Email",onChange:function(e){return b(e.target.value)},value:l})]}),Object(h.jsxs)("div",{className:"form-feild",children:[Object(h.jsx)("label",{children:"PASSWORD"}),Object(h.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){return v(e.target.value)},value:f})]}),Object(h.jsxs)("div",{className:"form-feild",children:[Object(h.jsx)("label",{children:"CONFIRM PASSWORD"}),Object(h.jsx)("input",{type:"password",placeholder:"Confirm Password",onChange:function(e){return w(e.target.value)},value:N})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn--m",children:"Create an account"})]})}),Object(h.jsxs)("div",{className:"page-title",children:["Already Registered?",Object(h.jsxs)(p.a,{style:{textDecoration:"underline"},to:"login",children:[" ","Login"]})]})]})},g=(a(63),a(15)),y=a.n(g);var N=function(e){var t={series:[e.data],options:{chart:{type:"radialBar",toolbar:{show:!1}},plotOptions:{radialBar:{startAngle:0,endAngle:360,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front"},track:{background:"#fff",strokeWidth:"80%",margin:0,dropShadow:{enabled:!1,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-30,show:!1,color:"#888",fontSize:"5px"},value:{formatter:function(e){return parseInt(e)},offsetY:10,color:"#111",fontSize:"25px",show:!0}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#ABE5A1"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["percent"]}};return Object(h.jsxs)("div",{className:"current-data-card",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"current-data-card-lable",children:e.dtype}),Object(h.jsx)("div",{children:e.data})]}),Object(h.jsx)("div",{children:Object(h.jsx)(y.a,{options:t.options,series:t.series,type:"radialBar",height:100,width:100})})]})};var w=function(e){var t=Object(c.useState)(e.farm),a=Object(d.a)(t,1)[0],r=Object(c.useState)([]),n=Object(d.a)(r,2),s=n[0],i=n[1],l="/data/latestdata"+("?deviceId="+a.deviceId[0].toString());function b(){return(b=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(l);case 2:t=e.sent,i(t.data),console.log("inside Current getCustomerData",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){b.apply(this,arguments)}()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"current-data-heading",children:Object(h.jsx)("span",{children:"Current Data"})}),Object(h.jsx)("div",{className:"current-data-container",children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(N,{dtype:"Soil Moisture",data:s.moistureSoil}),Object(h.jsx)(N,{dtype:"Soil Temperature",data:s.temperatureProbe}),Object(h.jsx)(N,{dtype:"Air Humidity",data:s.tumidityAir}),Object(h.jsx)(N,{dtype:"Air Temperature",data:s.temperatureAir})]})})]})};a(65);var S=function(e){return Object(h.jsx)("div",{className:"sub-header",children:Object(h.jsx)("nav",{className:"nav--horizontal .nav",children:Object(h.jsx)("ul",{className:"farm-tab-list",children:e.tabs.map((function(t){return Object(h.jsx)("li",{className:e.selected===t?"farm-tab-links-isactive farm-tab-links":"farm-tab-links",children:Object(h.jsx)("a",{href:"#/",onClick:function(){return e.setSelected(t)},children:t})},t)}))})})})};var C=function(e){var t=[],a=[];e.data.forEach((function(e){var c=new Date(e.timestamp);t.push(c.getTime()),a.push(e.avg.toFixed(2))}));var c={options:{chart:{id:"basic-bar",toolbar:{show:!0,tools:{download:!1,pan:!1}}},xaxis:{type:"datetime",categories:t,title:{text:"Time"},labels:{datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm"}}},yaxis:{min:e.minLimit,max:e.maxLimit,reversed:"Moisture"===e.seriesLable,title:{text:e.seriesLable,floating:!0,margin:10,style:{fontSize:"12px",color:"#666",fontFamily:void 0,fontWeight:"bold"}}},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],shadeIntensity:1,type:"horizontal",opacityFrom:1,opacityTo:1,stops:[0,100,100,100]},markers:{size:4,colors:["#FFA41B"],strokeColors:"#fff",strokeWidth:9,hover:{size:7}},title:{text:"Temperature",align:"centre",style:{fontSize:"16px",color:"#666"}}}},series:[{name:e.seriesLable,data:a}]};return Object(h.jsx)("div",{className:"app",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"mixed-chart",children:Object(h.jsx)(y.a,{options:c.options,series:c.series,type:"line",width:"600"})})})})};var k=function(e){var t=Object(c.useState)(e.farm),a=Object(d.a)(t,1)[0],r=Object(c.useState)([]),n=Object(d.a)(r,2),s=n[0],i=n[1],l=Object(c.useState)([]),b=Object(d.a)(l,2),O=b[0],m=b[1],x=Object(c.useState)([]),p=Object(d.a)(x,2),f=p[0],v=p[1],g=Object(c.useState)([]),y=Object(d.a)(g,2),N=y[0],w=y[1],S="/data/getbydevice"+("?deviceId="+a.deviceId[0].toString())+("&days="+e.dateSelected.toString());function k(){return(k=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(S);case 2:t=e.sent,i(t.data.tempProbeDataAvgArr),m(t.data.moistureDataAvgArr),v(t.data.humidityAirDataAvgArr),w(t.data.temperatureAirAvgArr),console.log("inside Farm getData just excecuted");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){k.apply(this,arguments)}()}),[e.dateSelected]),Object(h.jsx)("div",{className:"chart-container",children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"line-chart",children:[Object(h.jsx)("div",{className:"farm-lable",children:Object(h.jsx)("span",{children:"Temperature data"})}),Object(h.jsx)(C,{data:s,seriesLable:"Temperature",minLimit:0,maxLimit:100})]}),Object(h.jsxs)("div",{className:"line-chart",children:[Object(h.jsx)("div",{className:"farm-lable",children:Object(h.jsx)("span",{children:"Moisture data"})}),Object(h.jsx)(C,{data:O,seriesLable:"Moisture",minLimit:100,maxLimit:800})]}),Object(h.jsxs)("div",{className:"line-chart",children:[Object(h.jsx)("div",{className:"farm-lable",children:Object(h.jsx)("span",{children:"Humidity data"})}),Object(h.jsx)(C,{data:f,seriesLable:"Humidity",minLimit:0,maxLimit:100})]}),Object(h.jsxs)("div",{className:"line-chart",children:[Object(h.jsx)("div",{className:"farm-lable",children:Object(h.jsx)("span",{children:"Air Temperature data"})}),Object(h.jsx)(C,{data:N,seriesLable:"Air Temperature",minLimit:0,maxLimit:100})]})]})})};a(66);var A=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(),s=Object(d.a)(n,2),i=s[0],l=s[1],b=Object(c.useState)(1),O=Object(d.a)(b,2),m=O[0],x=O[1],p=a.map((function(e){return e.name}));function f(){return(f=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/farm");case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:Object(h.jsx)(S,{tabs:p,selected:i,setSelected:l})}),Object(h.jsx)("div",{className:"dasboard-master-container",children:a.map((function(e){return i===e.name?Object(h.jsxs)("div",{className:"farmlist-container",children:[Object(h.jsx)("div",{className:"farm-heading",children:Object(h.jsx)("span",{children:e.name})}),Object(h.jsx)("div",{children:Object(h.jsx)(w,{farm:e})}),Object(h.jsxs)("div",{className:"farm-container",children:[Object(h.jsxs)("div",{className:"farm-container-heading",children:[Object(h.jsx)("span",{children:"Data Graphs"}),Object(h.jsx)("div",{className:"farm-day-selecter",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{className:1===m?"farm-day-selecter-isactive":"",children:Object(h.jsx)("a",{href:"#/",onClick:function(){return x(1)},children:"Day"})}),Object(h.jsx)("li",{className:"farm-day-selecter-spacer"}),Object(h.jsx)("li",{className:7===m?"farm-day-selecter-isactive":"",children:Object(h.jsx)("a",{href:"#/",onClick:function(){return x(7)},children:"Week"})}),Object(h.jsx)("li",{className:"farm-day-selecter-spacer"}),Object(h.jsx)("li",{className:15===m?"farm-day-selecter-isactive":"",children:Object(h.jsx)("a",{href:"#/",onClick:function(){return x(15)},children:"15 Days"})}),Object(h.jsx)("li",{className:"farm-day-selecter-spacer"}),Object(h.jsx)("li",{className:30===m?"farm-day-selecter-isactive":"",children:Object(h.jsx)("a",{href:"#/",onClick:function(){return x(30)},children:"Month"})})]})})]}),Object(h.jsx)(k,{farm:e,dateSelected:m})]})]},e.name):null}))})]})};var L=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(A,{})})};var D=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),s=Object(d.a)(n,2),l=s[0],b=s[1],O=Object(c.useState)(""),m=Object(d.a)(O,2),x=m[0],f=m[1],v=Object(c.useState)(""),g=Object(d.a)(v,2),y=g[0],N=g[1],w=Object(i.g)();function S(){return(S=Object(j.a)(o.a.mark((function e(t){var c,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=a,r=[y],e.prev=3,n={name:c,crop:l,location:x,deviceId:r},e.next=7,u.a.post("/farm",n);case 7:w.push("/dashboard"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"page-title",children:[Object(h.jsx)("h1",{children:"Welcome back!"}),Object(h.jsx)("h3",{children:"Add a farm to your account."})]}),Object(h.jsx)("div",{className:"panel_body",children:Object(h.jsxs)("form",{className:"form-control",onSubmit:function(e){return S.apply(this,arguments)},children:[Object(h.jsxs)("div",{className:"form-feild",children:[Object(h.jsx)("label",{children:"FARM NAME"}),Object(h.jsx)("input",{type:"name",placeholder:"Name",onChange:function(e){return r(e.target.value)},value:a})]}),Object(h.jsxs)("div",{className:"form-feild",children:[Object(h.jsx)("label",{children:"CROP NAME"}),Object(h.jsx)("input",{type:"text",placeholder:"Crop",onChange:function(e){return b(e.target.value)},value:l})]}),Object(h.jsxs)("div",{className:"form-feild",children:[Object(h.jsx)("label",{children:"LOCATION"}),Object(h.jsx)("input",{type:"text",placeholder:"Location",onChange:function(e){return f(e.target.value)},value:x})]}),Object(h.jsxs)("div",{className:"form-feild",children:[Object(h.jsx)("label",{children:"DEVICE ID"}),Object(h.jsx)("input",{type:"text",placeholder:"Device Id",onChange:function(e){return N(e.target.value)},value:y})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn--m",children:"Add a new farm"})]})}),Object(h.jsxs)("div",{className:"page-title",children:["Having doubts?",Object(h.jsx)(p.a,{style:{textDecoration:"underline",color:"blue"},to:"login",children:"Contact us"})]})]})},F=(a(67),a.p+"static/media/Agri.1b14c660.png");a(68);var I=function(){var e=Object(c.useContext)(x).getLoggedIn;function t(){return(t=Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("/login/logout");case 2:e();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"avatar-button-container",children:Object(h.jsx)("a",{href:"/#",onClick:function(){!function(){t.apply(this,arguments)}()},children:"Logout"})})};var E=function(){var e=Object(c.useContext)(x).loggedIn;return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsxs)("nav",{children:[Object(h.jsx)("img",{className:"logo",src:F,alt:"logo"}),Object(h.jsxs)("ul",{className:"nav__links",children:[Object(h.jsx)("li",{children:Object(h.jsx)(p.a,{to:"/",children:"Agrisense"})}),!1===e&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{children:Object(h.jsx)(p.a,{to:"/register",children:"Register"})}),Object(h.jsx)("li",{children:Object(h.jsx)(p.a,{to:"login",children:"Login"})})]}),!0===e&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{children:Object(h.jsx)(p.a,{to:"/dashboard",children:"Dashboard"})}),Object(h.jsx)("li",{children:Object(h.jsx)(p.a,{to:"/addfarm",children:"Add Farm"})})]})]})]}),!0===e&&Object(h.jsx)(I,{})]})};var M=function(){return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"page-title",children:[Object(h.jsx)("h1",{children:"Welcome to the World of Freedom! "}),Object(h.jsx)("h3",{children:"Your all round solution to agriculture is HERE!"})]})})};a(69);var T=function(){return Object(c.useEffect)((function(){}),[]),Object(h.jsx)("div",{className:"weather-master-container",children:Object(h.jsx)("div",{className:"city-name",children:Object(h.jsx)("h2",{children:"Weather"})})})};var W=function(){return Object(h.jsx)("div",{className:"class",children:"Recommendations"})};var R=function(){var e=Object(c.useContext)(x).loggedIn;return Object(h.jsxs)(i.a,{children:[Object(h.jsx)(E,{}),Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{exact:!0,path:"/",children:Object(h.jsx)(M,{})}),!1===e&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.b,{path:"/register",children:Object(h.jsx)(v,{})}),Object(h.jsx)(i.b,{path:"/login",children:Object(h.jsx)(f,{})})]}),!0===e&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.b,{path:"/dashboard",children:Object(h.jsx)(L,{})}),Object(h.jsx)(i.b,{path:"/addfarm",children:Object(h.jsx)(D,{})}),Object(h.jsx)(i.b,{path:"/weather",children:Object(h.jsx)(T,{})}),Object(h.jsx)(i.b,{path:"/recommendations",children:Object(h.jsx)(W,{})})]})]})]})};u.a.defaults.withCredentials=!0;var z=function(){return console.log("production"),u.a.defaults.baseURL="/api/",Object(h.jsx)(m,{children:Object(h.jsx)(R,{})})};a(70);s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(z,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.3e1ed4f2.chunk.js.map